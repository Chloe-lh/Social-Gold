{% extends "base.html" %}

{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'golden/css/profile.css' %}">
{% endblock %}

{% block content %}

<!-- Profile Tabs / Info -->
<nav class="top-nav">
    <div class="nav-left">
        <h1><a href="">Golden</a></h1>
    </div>
    <div class="nav-center">
        <span>@{{ author.username }}</span>
    </div>
    <div class="nav-right">
        <button class="nav">Edit Profile</button>
    </div>
</nav>
<div class="tabs">
  <img class="profile-pic"
      src=" {{ author.profileImage }} "  
      alt="Profile">
    <button style="padding:0.5rem 1rem; border-radius:0.5rem;">Followers ({{ followers_count }}) </button>
    <button style="padding:0.5rem 1rem; border-radius:0.5rem;">Following ({{ following_count }}) </button>
</div>

<!-- Entries Section -->
<h2 style="text-align:center;">My Entries</h2>
{% for entry in entries %}
<div class="entries">
  <div class="entry">
    <p><strong>Author:</strong>  @{{ author.username }} <br>
      <strong>Date:</strong> {{ entry.created_at|date:"Y/m/d" }}
    </p>

    <!-- Check content type -->
    {% if entry.contentType == "text/plain" %}
        <p>{{ entry.rendered_content }}</p>

    {% elif entry.contentType == "text/markdown" %}
        <div class="markdown-content">
            {{ entry.rendered_content|safe }}
        </div>

    {% elif "image" in entry.contentType %}
        <img src="{{ entry.rendered_content }}" alt="Entry Image" style="max-width:100%;">

    {% else %}
        <p>{{ entry.rendered_content }}</p>
    {% endif %}
  </div>
{% empty %}
    <p style="text-align:center;">You have no entries yet.</p>
{% endfor %}
</div>
{% endblock %}
